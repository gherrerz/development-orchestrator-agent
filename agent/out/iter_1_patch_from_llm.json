{
  "notes": [
    "Implementada la lógica de la calculadora de créditos y pruebas unitarias correspondientes."
  ],
  "files": {
    "./app/calculator.py": {
      "operation": "modify",
      "content": "def calcular_credito(monto, tasa_interes, plazo):\n    \"\"\"\n    Calcula el monto total a pagar en un crédito.\n    :param monto: Monto del crédito\n    :param tasa_interes: Tasa de interés anual\n    :param plazo: Plazo en años\n    :return: Monto total a pagar\n    \"\"\"\n    tasa_mensual = tasa_interes / 100 / 12\n    numero_pagos = plazo * 12\n    pago_mensual = (monto * tasa_mensual) / (1 - (1 + tasa_mensual) ** -numero_pagos)\n    total_a_pagar = pago_mensual * numero_pagos\n    return total_a_pagar\n",
      "./app/views.py": {
        "operation": "modify",
        "content": "from django.shortcuts import render\nfrom .calculator import calcular_credito\n\n\ndef calcular(request):\n    if request.method == 'POST':\n        monto = float(request.POST.get('monto'))\n        tasa_interes = float(request.POST.get('tasa_interes'))\n        plazo = int(request.POST.get('plazo'))\n        total = calcular_credito(monto, tasa_interes, plazo)\n        return render(request, 'resultado.html', {'total': total})\n    return render(request, 'calcular.html')\n"
      },
      "./tests/test_calculator.py": {
        "operation": "modify",
        "content": "import pytest\nfrom app.calculator import calcular_credito\n\n\ndef test_calcular_credito():\n    # Test con valores conocidos\n    assert calcular_credito(10000, 5, 2) == pytest.approx(11045.62, rel=1e-2)  # Cálculo: 10000 * (0.05/12) / (1 - (1 + 0.05/12) ** -24) * 24\n    assert calcular_credito(20000, 7, 5) == pytest.approx(25000.00, rel=1e-2)  # Cálculo: 20000 * (0.07/12) / (1 - (1 + 0.07/12) ** -60) * 60\n"
      }
    }
  }
}
